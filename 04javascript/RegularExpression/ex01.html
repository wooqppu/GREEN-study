<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <input type="text" id="id">
    <input type="text" id="password">
    <button onclick="chkPW()">signUp</button>

    <script>
        function chkPW() {
            let pw = document.querySelector("#password").value;

            let num = pw.search(/[0-9]/g);
            let eng = pw.search(/[a-z]/ig);
            // \, ', ", / -> 특수문자로만 사용할 때 앞에 \를 붙여줌 
            let spe = pw.search(/[`!~?@#$%^&*|\\\'\";:\/]/g);

            // 비밀번호는 8~20자 까지
            if(pw.length < 8 || pw.length > 20) {
                alert("비밀번호는 8~20자리 이내로 입력하십시오.");
                return false;
            }
            
            // 공백 체크 
            // 공백이 있으면 해당하는 인덱스를 반환 
            // 공백이 없으면 -1을 반환 
            else if(pw.search(/\s/) != -1) {
                alert("비밀번호는 공백 없이 입력하십시오.");
                return false;
            }
            
            // 영문, 숫자, 특수문자 혼합했는지 체크 
            // -1 리턴되면 없다는 것을 의미 
            else if(num < 0 || eng < 0 || spe < 0 ) {
                alert("비밀번호는 영문, 숫자, 특수문자를 혼합하여 입력하십시오.");
                return false;
            } else {
                alert("통과")
                return true;
            }

            function chkPW2() {
                // 비밀번호 8자리 이상 숫자 포함, 영대문자 포함 
                // 영어 소문자 포함, 특수문자 포함 
                let reg = /^(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[a-z])(?=.*?[#?!@$^&*-]).{8,}$/;
                let pw = document.querySelector("#password").value;
                if(!reg.test(pw)) {
                    alert("비밀번호는 8자리 이상의 숫자, 대문자, 소문자, 특수문자를 포함해야 합니다.");
                } else {
                    alert("통과");
                } 
            }
        }

    </script>

</body>
</html>